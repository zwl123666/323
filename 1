res.setHeader('Cache-Control','max-age=3600'); 
// 设置强缓存
const cacheControl = 'public, max-age=31536000';
response.setHeader('Cache-Control', cacheControl);
// 使用 UglifyJS 压缩 JavaScript
const UglifyJS = require('uglify-js');
const code = 'function add(a, b) { return a + b; }';
const result = UglifyJS.minify(code);
// 懒加载视频
document.addEventListener("DOMContentLoaded", function() {
    var videos = document.getElementsByTagName('video');
    for (var i = 0; i < videos.length; i++) {
      videos[i].setAttribute('data-src', videos[i].getAttribute('src'));
      videos[i].removeAttribute('src');
    }
  
    window.addEventListener('scroll', function() {
      for (var i = 0; i < videos.length; i++) {
        if (isElementInViewport(videos[i])) {
          videos[i].setAttribute('src', videos[i].getAttribute('data-src'));
        }
      }
    });
  });
  
  function isElementInViewport(el) {
    var rect = el.getBoundingClientRect();
    return (
      rect.top >= 0 &&
      rect.left >= 0 &&
      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
      rect.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
  }
